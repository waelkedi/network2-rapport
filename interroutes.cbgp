print 'Running interroutes.cbgp\n'

print 'Links...\n'
print 'iCompany and Spring,'
net add link 2.1.0.1 2.0.0.1
net add link 2.1.0.1 2.0.0.2
net add link 2.1.0.1 2.0.0.3

print 'Spring and BigCarrier,'
net add link 2.0.0.1 1.0.0.1
net add link 2.0.0.2 1.0.0.2
net add link 2.0.0.3 1.0.0.3
net add link 2.0.0.4 1.0.0.4

print 'Spring and Abilene,'
net add link 2.0.0.3 3.0.0.1

print 'Spring and UCLA,'
net add link 2.0.0.3 3.1.0.1

print 'BigCarrier and GEANT,'
net add link 1.0.0.1 4.0.0.2
net add link 1.0.0.3 4.0.0.1
net add link 1.0.0.4 4.0.0.1

print 'BigCarrier and BELNET,'
net add link 1.0.0.2 1.1.0.2

print 'Abilene and GEANT,'
net add link 3.0.0.1 4.0.0.1
net add link 3.0.0.3 4.0.0.3

print 'Abilene and CERN,'
net add link 3.0.0.3 4.200.0.1

print 'GEANT and CERN,'
net add link 4.0.0.3 4.200.0.1

print 'GEANT and BELNET,'
net add link 4.0.0.3 1.1.0.1
net add link 4.0.0.4 1.1.0.2

print 'BELNET and UCL,'
net add link 1.1.0.1 130.104.0.1
net add link 1.1.0.2 130.104.0.2

print 'BELNET and Ulg.\n'
net add link 1.1.0.1 139.165.0.1
net add link 1.1.0.2 139.165.0.2

print 'BGP routes.\n'

print 'iCompany and Spring,'
net node 2.1.0.1 route add --oif=2.0.0.1 2.0.0.0/8 2
net node 2.1.0.1 route add --oif=2.0.0.2 2.0.0.0/8 2
net node 2.1.0.1 route add --oif=2.0.0.3 2.0.0.0/8 8
bgp router 2.1.0.1
	add peer 2 2.0.0.1
	peer 2.0.0.1 up
	add peer 2 2.0.0.2
	peer 2.0.0.2 up
	add peer 2 2.0.0.3
	peer 2.0.0.3 up
	exit

print 'Spring and BigCarrier,'

net node 2.0.0.1 route add --oif=1.0.0.1 1.0.0.0/8 65
bgp router 2.0.0.1
	add peer 1 1.0.0.1
	peer 1.0.0.1 up
	exit
net node 2.0.0.2 route add --oif=1.0.0.2 1.0.0.0/8 70
bgp router 2.0.0.2
	add peer 1 1.0.0.2
	peer 1.0.0.2 up
	exit
net node 2.0.0.3 route add --oif=1.0.0.3 1.0.0.0/8 70
bgp router 2.0.0.3
	add peer 1 1.0.0.3
	peer 1.0.0.3 up
	exit
net node 2.0.0.4 route add --oif=1.0.0.4 1.0.0.0/8 75
bgp router 2.0.0.4
	add peer 1 1.0.0.4
	peer 1.0.0.4 up
	exit

print 'Spring and Abilene,'

net node 2.0.0.3 route add --oif=3.0.0.1 3.0.0.0/24 1
bgp router 2.0.0.3
	add peer 11537 3.0.0.1
	peer 3.0.0.1 up
	exit

print 'Spring and UCLA,'
net node 2.0.0.3 route add --oif=3.1.0.1 3.1.0.0/16 1
net node 2.0.0.3 route add --oif=3.1.0.1 2.2.1.0/24 1
bgp router 2.0.0.3
	add peer 52 3.1.0.1
	peer 3.1.0.1 up
	exit

print 'BigCarrier and GEANT,'
net node 1.0.0.1 route add --oif=4.0.0.2 4.0.0.0/24 1
bgp router 1.0.0.1
	add peer 20965 4.0.0.2
	peer 4.0.0.2 up
	exit
net node 1.0.0.3 route add --oif=4.0.0.1 4.0.0.0/24 1
bgp router 1.0.0.3
	add peer 20965 4.0.0.1
	peer 4.0.0.1 up
	exit
net node 1.0.0.4 route add --oif=4.0.0.1 4.0.0.0/24 1
bgp router 1.0.0.4
	add peer 20965 4.0.0.1
	peer 4.0.0.1 up
	exit

print 'BigCarrier and BELNET,'
net node 1.0.0.2 route add --oif=1.1.0.2 1.1.0.0/24 1
net node 1.0.0.2 route add --oif=1.1.0.2 4.1.0.0/24 1
bgp router 1.0.0.2
	add peer 2611 1.1.0.2
	peer 1.1.0.2 up
	exit

print 'Abilene and GEANT,'
net node 3.0.0.1 route add --oif=4.0.0.1 4.0.0.0/24 60
bgp router 3.0.0.1
	add peer 20965 4.0.0.1
	peer 4.0.0.1 up
	exit
net node 3.0.0.3 route add --oif=4.0.0.3 4.0.0.0/24 50
bgp router 3.0.0.3
	add peer 20965 4.0.0.3
	peer 4.0.0.3 up
	exit
print 'Abilene and CERN,'
net node 3.0.0.3 route add --oif=4.200.0.1 4.200.0.0/16 55
net node 3.0.0.3 route add --oif=4.200.0.1 3.200.0.0/16 55
bgp router 3.0.0.3
	add peer 201 4.200.0.1
	peer 4.200.0.1 up
	exit

print 'GEANT and CERN,'
net node 4.0.0.3 route add --oif=4.200.0.1 4.200.0.0/16 5
net node 4.0.0.3 route add --oif=4.200.0.1 3.200.0.0/16 5
bgp router 4.0.0.3
	add peer 201 4.200.0.1
	peer 4.200.0.1 up
	exit


print 'GEANT and BELNET,'
net node 4.0.0.3 route add --oif=1.1.0.1 1.1.0.0/24 5
net node 4.0.0.3 route add --oif=1.1.0.1 4.1.0.0/24 5
bgp router 4.0.0.3
	add peer N 1.1.0.1
	peer 1.1.0.1 up
	exit
net node 4.0.0.4 route add --oif=1.1.0.2 4.1.0.0/24 5
bgp router 4.0.0.4
	add peer N 1.1.0.2
	peer 1.1.0.2 up
	exit

print 'BELNET and UCL,'
net node 1.1.0.1 route add --oif=130.104.0.1 130.104.0.0/16 1
bgp router 1.1.0.1
	add peer 65535 130.104.0.1
	peer 130.104.0.1 up
	exit
net node 1.1.0.2 route add --oif=130.104.0.2 130.104.0.0/16 1
bgp router 1.1.0.2
	add peer 65535 130.104.0.2
	peer 130.104.0.2 up
	exit


print 'BELNET and Ulg.\n'
net node 1.1.0.1 route add --oif=139.165.0.1 139.165.0.0/16 1
bgp router 1.1.0.1
	add peer 65534 139.165.0.1
	peer 139.165.0.1 up
	exit
net node 1.1.0.2 route add --oif=139.165.0.2 139.165.0.0/16 1
bgp router 1.1.0.2
	add peer 65534 139.165.0.2
	peer 139.165.0.2 up
	exit
